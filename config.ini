; Configuration file for User Monitor Application
; This file is auto-managed - existing values are preserved
; Generated/Updated by ConfigManager

[app]
; Application configuration
; SECRET_KEY: Change this to a random secret key in production
; APP_DEBUG: Set to false in production
; TIMEZONE: Your local timezone for log display
secret_key = your_secret_key_change_this_in_production
app_debug = false
timezone = Europe/London

[server]
; Server configuration
; HOST: IP address to bind to (0.0.0.0 for all interfaces)
; PORT: Port number to listen on
; SSL_CERTFILE/SSL_KEYFILE: SSL certificate paths (for reverse proxy setups)
; WORKERS: Number of threads (Waitress) or processes (Gunicorn)
; DEVELOPMENT_MODE: Enable development features (false in production)
host = 0.0.0.0
port = 8000
ssl_certfile = instance/certs/cert.pem
ssl_keyfile = instance/certs/key.pem
development_mode = false
watch_files = false
workers = 4
worker_lifetime = 86400
graceful_shutdown = true
shutdown_timeout = 30

[database]
; Database configuration
; SQLALCHEMY_DATABASE_URI: Database connection string
; For SQLite (default): sqlite:///database.db
; For PostgreSQL: postgresql://user:pass@localhost:5432/dbname
; For MySQL: mysql+pymysql://user:pass@localhost:3306/dbname
; For MSSQL: mssql+pyodbc://user:pass@server/db?driver=ODBC+Driver+18+for+SQL+Server
sqlalchemy_database_uri = sqlite:///database.db
sqlalchemy_track_modifications = false

[session]
; Session and cookie configuration
; SESSION_COOKIE_SECURE: Only send cookies over HTTPS
; REMEMBER_COOKIE_DURATION: Remember me duration in seconds
session_cookie_secure = true
session_cookie_httponly = true
session_cookie_samesite = Lax
remember_cookie_secure = true
remember_cookie_httponly = true
remember_cookie_duration = 7200
permanent_session_lifetime = 7200

[cache]
; Cache and compression settings
; MAX_AGE values are in seconds
; COMPRESSION_LEVEL: 1-9 (higher = better compression, more CPU)
static_max_age = 86400
image_max_age = 604800
js_css_max_age = 43200
enable_compression = true
compression_level = 6
compression_min_size = 500

[security]
; Security headers configuration
; CONTENT_SECURITY_POLICY: Controls allowed content sources
; ENABLE_HSTS: HTTP Strict Transport Security (HTTPS only)
; HSTS_MAX_AGE: HSTS duration in seconds
content_security_policy = default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.datatables.net https://code.jquery.com; style-src 'self' 'unsafe-inline' https://cdn.datatables.net; img-src 'self' data:; font-src 'self' https://cdn.datatables.net; connect-src 'self'; frame-ancestors 'self'; form-action 'self'; base-uri 'self'
enable_hsts = true
hsts_max_age = 31536000
enable_security_headers = true

[rate_limiting]
; Rate limiting configuration
; REDIS_URL: Redis connection for distributed rate limiting (leave empty for in-memory)
; LOGIN_LIMIT: Max login attempts per LOGIN_PERIOD seconds
; API_LIMIT: Max API requests per API_PERIOD seconds
; Leave REDIS_URL empty to use in-memory rate limiting
enable_rate_limiting = true
redis_url = 
login_limit = 10
login_period = 60
register_limit = 5
register_period = 300
api_limit = 60
api_period = 60

[proxy]
; Reverse proxy configuration
; PROXY_COUNT: Number of proxies between client and app
; TRUSTED_PROXIES: Comma-separated proxy IPs (empty = trust all)
; For Docker: 172.16.0.0/12,10.0.0.0/8,192.168.0.0/16
proxy_count = 1
trust_x_forwarded_for = true
trust_x_forwarded_proto = true
trust_x_forwarded_host = true
trust_x_forwarded_port = true
trust_x_forwarded_prefix = false
trusted_proxies = 

[logging]
; Database logging configuration
; DB_LOGGING_ENABLED: Enable/disable database logging
; DB_LOGGING_FILTERED_LOGGERS: Comma-separated logger names to exclude
; DB_LOGGING_FILTERED_PATTERNS: Comma-separated patterns to exclude
db_logging_enabled = true
db_logging_filtered_loggers = watchfiles.main,watchfiles.watcher,watchdog,__mp_main__,__main__,app,waitress.queue
db_logging_filtered_patterns = database.db,instance/,file changed,reloading
filter_file_watcher_logs = true
db_logging_dedupe_interval = 1

